{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    ":dependencyDashboard",
    ":semanticCommits",
    ":separateMultipleMajorReleases",
    ":enableVulnerabilityAlerts",
    "group:monorepos",
    "group:test",
    "security:openssf-scorecard"
  ],
  "timezone": "UTC",
  "schedule": ["before 5am on monday"],
  "rangeStrategy": "bump",
  "lockFileMaintenance": {
    "enabled": true,
    "schedule": ["before 5am on monday"],
    "automerge": true,
    "automergeType": "pr",
    "recreateWhen": "always"
  },
  "osvVulnerabilityAlerts": true,
  "vulnerabilityAlerts": {
    "enabled": true,
    "schedule": ["at any time"],
    "automerge": true,
    "minimumReleaseAge": "0 days"
  },
  "branchConcurrentLimit": 10,
  "packageRules": [
    {
      "description": "React and Next.js major updates require manual review",
      "matchPackagePatterns": ["^react$", "^react-dom$", "^next$"],
      "groupName": "react-next-major",
      "matchUpdateTypes": ["major"],
      "stabilityDays": 3,
      "prCreation": "not-pending",
      "dependencyDashboardApproval": true,
      "automerge": false,
      "reviewers": ["@DeanLuus22021994"],
      "commitMessagePrefix": "feat(deps):"
    },
    {
      "description": "ESLint stack minor/patch auto-merge",
      "matchPackagePatterns": [
        "^eslint$",
        "^eslint-config-next$", 
        "^@typescript-eslint/"
      ],
      "groupName": "eslint-stack",
      "matchUpdateTypes": ["minor", "patch"],
      "automerge": true,
      "stabilityDays": 1,
      "commitMessagePrefix": "chore(deps):"
    },
    {
      "description": "Playwright testing stack auto-merge with brief stability period",
      "matchPackagePatterns": ["^@playwright/test$"],
      "groupName": "playwright-stack", 
      "matchUpdateTypes": ["minor", "patch"],
      "automerge": true,
      "stabilityDays": 1,
      "commitMessagePrefix": "chore(deps):"
    },
    {
      "description": "TypeScript and @types packages auto-merge",
      "matchPackagePatterns": ["^typescript$", "^@types/"],
      "groupName": "typescript-types",
      "matchUpdateTypes": ["minor", "patch"],
      "automerge": true,
      "stabilityDays": 1,
      "commitMessagePrefix": "chore(deps):"
    },
    {
      "description": "Development dependencies minor/patch auto-merge",
      "matchDepTypes": ["devDependencies"],
      "excludePackagePatterns": ["^react", "^next", "^typescript"],
      "groupName": "dev-deps-minor-patch",
      "matchUpdateTypes": ["minor", "patch"],
      "automerge": true,
      "stabilityDays": 1,
      "commitMessagePrefix": "chore(deps):"
    },
    {
      "description": "Security updates get highest priority",
      "matchUpdateTypes": ["patch"],
      "matchCategories": ["security"],
      "schedule": ["at any time"],
      "automerge": true,
      "stabilityDays": 0,
      "prPriority": 10,
      "commitMessagePrefix": "fix(security):",
      "labels": ["security", "dependencies", "renovate"]
    },
    {
      "description": "Pin GitHub Actions to major versions",
      "matchManagers": ["github-actions"],
      "rangeStrategy": "pin",
      "commitMessagePrefix": "ci:",
      "automerge": true,
      "schedule": ["before 5am on monday"]
    },
    {
      "description": "Default auto-merge for minor/patch updates",
      "matchUpdateTypes": ["minor", "patch"],
      "automerge": true,
      "automergeType": "pr",
      "platformAutomerge": true,
      "commitMessagePrefix": "chore(deps):"
    }
  ],
  "prConcurrentLimit": 10,
  "prHourlyLimit": 5,
  "labels": ["dependencies", "renovate"],
  "semanticCommits": "enabled",
  "commitMessageAction": "{{#if (eq updateType 'major')}}upgrade{{else}}update{{/if}}",
  "commitMessageTopic": "{{depName}}",
  "commitMessageExtra": "to {{#if isMajor}}v{{{newMajor}}}{{else}}{{#if isSingleVersion}}v{{{newVersion}}}{{else}}{{{newValue}}}{{/if}}{{/if}}",
  "ignorePaths": [
    "**/test-results/**",
    "**/playwright-report/**",
    "**/coverage/**",
    "**/.next/**"
  ],
  "rollbackPrs": true,
  "rollbackPrsLimit": 3,
  "onboarding": false,
  "assignees": [],
  "reviewers": [],
  "prFooter": "Generated by Renovate. See `.github/copilot-instructions.md` and `.github/prompts/` for automation context.",
  "confidential": "publish",
  "enabledManagers": [
    "npm",
    "github-actions",
    "dockerfile"
  ],
  "platformAutomerge": true,
  "ignoreDeps": [],
  "major": {
    "dependencyDashboardApproval": true
  },
  "regexManagers": [
    {
      "description": "Update Node.js version in GitHub Actions",
      "fileMatch": ["\\.github/workflows/.+\\.ya?ml$"],
      "matchStrings": ["node-version:\\s*['\"]?(?<currentValue>\\d+)\\.x['\"]?"],
      "datasourceTemplate": "node",
      "depNameTemplate": "node"
    }
  ]
}
